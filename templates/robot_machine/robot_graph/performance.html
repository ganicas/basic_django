<style>
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
path.slice{
	stroke-width:2px;
}
polyline{
	opacity: .3;
	stroke: black;
	stroke-width: 2px;
	fill: none;
}
svg text.performance_percent{
	fill:white;
	text-anchor:middle;
	font-size:20px;
}

</style>
<div id="performance">
    <!--<button onClick="changeData()">Change Data</button>-->
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script  src="{{ '/static/js/charts/performance.js' }}"></script>

    <script>
        /*
        d3.json("http://localhost:8000/performance_chart/"+robot_id+"/?format=json",  function(error, data){
            if (error) throw error;
            console.log(data)
            var svg = d3.select("#performance").append("svg").attr("width",500).attr("height",300);
            svg.append("g").attr("id","ddd");
            if(data == 0){
                var basic = 99
            }else if (data != 0){
                var basic = 100 - data;
            }
            performance.draw("ddd", [{label: "Basic", color:"#3366CC", value: basic}, {label: "Plus",  color: "#ff601c", value: data}], 150, 100, 130, 100, 30, 0);
            document.getElementById('performance_dashboard').innerHTML = 'Performance ' +data +'%';
        });
        */
        var data={{dashboard_data.performance}}
        var svg = d3.select("#performance").append("svg").attr("width","100%").attr("height","130%");
        svg.append("g").attr("id","machine_performance");

        function performance_reload(data){

            if(data == 0){
                var basic = 99
            }else if (data != 0){
                var basic = 100 - data;
            }
            else if(data == 100){
                var basic = 0;
            }
            performance.draw("machine_performance", [{label: "Basic", color:"#3366CC", value: basic}, {label: "Plus",  color: "#ff601c", value: data}], 180, 105, 130, 100, 30, 0);
            document.getElementById('performance_dashboard').innerHTML = 'Performance ' +data +'%';
        }
        performance_reload(data)
    </script>
</div>



